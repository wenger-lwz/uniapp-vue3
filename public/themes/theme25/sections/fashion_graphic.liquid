{% assign image = section.settings.image %}
{% assign padding_top = section.settings.padding.top | default: "0" %}
{% assign padding_bottom = section.settings.padding.bottom | default: "0" %}
{% if section.settings.padding.right == blank and section.settings.padding.left == blank %}
  {% assign padding_right = section.settings.padding.right | default: settings.general_layout_spacing %}
  {% assign padding_left = section.settings.padding.left | default: settings.general_layout_spacing %}
{% else %}
  {% assign padding_right = section.settings.padding.right | default: 0 %}
  {% assign padding_left = section.settings.padding.left | default: 0 %}
{% endif %}
<style>
  .fashion_graphic-{{section.id}}-container{
    max-width:{% if section.settings.max_container_width == blank %}var(--general-layout-width){% else %}{{section.settings.max_container_width}}px{% endif %};
    padding-top:{{padding_top | times: 0.6 }}px;
    padding-bottom:{{padding_bottom | times: 0.6 }}px;
  }
  .fashion_graphic-{{section.id}}-title:after{
    content: '';
    position: absolute;
    left: 0;
    bottom: -10px;
    width: 48px;
    height: 3px;
    background: {{section.settings.color_title_text}};
  }
  .fashion_graphic-{{section.id}}-image:after{
    content: '';
    width: 80%;
    height: 75%;
    background: {{section.settings.color_image_bg}};
    position: absolute;
    bottom: -8px;
    {% if section.settings.layout == 'image_position_left' %}
      right: 0;
      left: -8px;
    {% else %}
      right: -8px;
      left: auto;
    {% endif %}
    {%if settings.general_style == 'round'%}
      border-radius: var(--rounded-lg);
    {%endif%}
  }
  @media (min-width: {{settings.breakpoint}}px) {
    .fashion_graphic-{{section.id}}-container{
      padding-top:{{padding_top}}px;
      padding-right:{{padding_right}}px;
      padding-bottom:{{padding_bottom}}px;
      padding-left:{{padding_left}}px;
    }
    .fashion_graphic-{{section.id}}-title{ font-size: 46px;}
    .fashion_graphic-{{section.id}}-title:after{
      width: 100px;
      bottom: -24px;
    }
    .fashion_graphic-{{section.id}}-image:after{
      {% if section.settings.layout == 'image_position_left' %}
        right: 0;
        left: -32px;
      {% else %}
        right: -32px;
        left: auto;
      {% endif %}
      bottom: -32px;
    }
  }
</style>
<div class="tw-text-center" style="background:{{section.settings.color_section_bg}}">
  <div class="md:tw-flex-col-reverse tw-flex tw-justify-between tw-items-center tw-px-5 tw-mx-auto fashion_graphic-{{section.id}}-container">
    <div class="tw-box-border tw-text-left md:tw-mt-10 lg:tw-z-20 tw-w-full lg:tw-w-1/2 {% if section.settings.layout == 'image_position_left' %}lg:tw-order-1 lg:tw-ml-0 lg:tw-pl-30{% else %}lg:tw-mr-0 lg:tw-pr-30{% endif %}">
      {% unless section.settings.subtitle == blank %}
        <h5 class="empty:tw-hidden tw-m-0 tw-text-xs lg:tw-text-sm tw-leading-none tw-tracking-2 lg:tw-tracking-4 {%if section.settings.subtitle_uppercase_on%}tw-uppercase{%endif%} type-heading-font-family" style="color:{{section.settings.color_subtitle_text}};">{{section.settings.subtitle}}</h5>
      {% endunless %}
      {% unless section.settings.title == blank %}
          <h3 class="empty:tw-hidden tw-relative tw-mt-2.5 lg:tw-mt-3 tw-mb-0 tw-text-xl tw-leading-1.1 tw-font-semibold {%if section.settings.title_uppercase_on%}tw-uppercase{%endif%} type-heading-font-family fashion_graphic-{{section.id}}-title" style="color:{{section.settings.color_title_text}};">{{section.settings.title}}</h3>
      {% endunless %}
      <p class="tw-mt-6 lg:tw-mt-10 tw-mb-0 lg:tw-text-lg tw-leading-normal type-text-font-family" style="color:{{section.settings.color_desc_text}};">{{section.settings.desc}}</p>
      {% unless section.settings.button_label == blank %}
        <a {% unless section.settings.button_link.type != 'web' or section.settings.button_link.url contains shop.domain %}target="_blank"{% endunless %} {% unless section.settings.button_link.url == blank %}href="{{section.settings.button_link.url}}"{% endunless %}>
          <button class="tw-h-10 tw-mt-6 lg:tw-mt-10 tw-py-0 tw-px-5 lg:tw-px-10 tw-outline-none tw-cursor-pointer tw-border-solid tw-border lg:tw-text-btn-font-size tw-tracking-btn-letter-spacing {%if settings.type_button_same_with == 'heading'%}type-heading-font-family{%else%}type-text-font-family{%endif%} {%if settings.type_button_text_uppercase_on%}tw-uppercase{%endif%} hover:tw-opacity-75 active:tw-opacity-75 {%if settings.general_style == 'round'%}tw-rounded{%endif%}"
            style="border-color:{{section.settings.color_btn_border}};background:{{section.settings.color_btn_bg}};color:{{section.settings.color_btn_text}}";>
            {{section.settings.button_label}}
          </button>
        </a>
      {% endunless %}
    </div>
    <div class="tw-relative tw-w-full lg:tw-w-1/2 fashion_graphic-{{section.id}}-image">
      {% if image.src %}
        <div class="tw-relative" style="padding-bottom:{{image.height | image_padding_bottom : image.width, 'unlimit'}}">
          <img
            src="{{shop.default_img}}"
            class="{%if settings.general_style == 'round'%}tw-rounded-lg{%endif%} tw-absolute tw-w-full tw-inset-0 tw-m-auto tw-z-10 lazyload"
            data-sizes="auto"
            data-src="{{image.src | img_url: '{width}x'}}"
            alt="{{image.alt | escape}}" 
          >
        </div>
      {% else %}
        {{ 'product-2' | placeholder_svg_tag: 'tw-block tw-relative tw-z-10 tw-fill-svg tw-bg-svg' }}
      {% endif %}
    </div>
  </div>
</div>

{% schema %}
{
  "name": "fashion_graphic",
  "settings": [
    {
      "type": "header",
      "content": {
        "en-US": "Settings",
        "zh-CN": "设置"
      }
    },
    {
      "type": "image_picker",
      "id": "image",
      "label": {
        "zh-CN": "封面图",
        "en-US": "Collection image"
      }
    },
    {
      "type": "text",
      "id": "title",
      "label": {
        "zh-CN": "主标题",
        "en-US": "Heading"
      },
      "placeholder": {
        "zh-CN": "请输入主标题",
        "en-US": "Enter main heading"
      },
      "default": "Cashmere, at cost."
    },
    {
      "type": "text",
      "id": "subtitle",
      "label": {
        "zh-CN": "副标题",
        "en-US": "Subheading"
      },
      "placeholder": {
        "zh-CN": "请输入副标题",
        "en-US": "Input subheading"
      },
      "default": "New fashion"
    },
    {
      "type": "textarea",
      "id": "desc",
      "label": {
        "en-US": "Description",
        "zh-CN": "描述"
      },
      "placeholder": {
        "zh-CN": "请输入描述",
        "en-US": "Enter description"
      },
      "default": "Shop hundreds of luxury goods from the same manufacturers as leading brands for up to 80% less. Savings guaranteed."
    },
    {
      "type": "text",
      "id": "button_label",
      "label": {
        "zh-CN": "按钮名称",
        "en-US": "Button"
      },
      "placeholder": {
        "zh-CN": "请输入按钮名称",
        "en-US": "Input button label"
      },
      "default": "Shop now"
    },
    {
      "type": "url",
      "id": "button_link",
      "label": {
        "en-US": "Button link",
        "zh-CN": "按钮链接"
      },
      "default": ""
    },
    {
      "type": "select",
      "id": "layout",
      "label": {
        "en-US": "Layout",
        "zh-CN": "布局"
      },
      "options": [
        {
          "value": "image_position_left",
          "label": {
            "zh-CN": "左图+右文字",
            "en-US": "Image on left+Text on right"
          }
        },
        {
          "value": "image_position_right",
          "label": {
            "zh-CN": "左文字+右图",
            "en-US": "Text on left+Image on right"
          }
        }
      ],
      "default": "image_position_right"
    },
    {
      "type": "checkbox",
      "label": {
        "zh-CN": "开启主标题全大写",
        "en-US": "Uppercase heading"
      },
      "id": "title_uppercase_on",
      "default": false
    },
    {
      "type": "checkbox",
      "label": {
        "zh-CN": "开启副标题全大写",
        "en-US": "Uppercase subheading"
      },
      "id": "subtitle_uppercase_on",
      "default": true
    },
    {
      "type": "header",
      "content": {
        "en-US": "Color",
        "zh-CN": "颜色"
      }
    },
    {
      "type": "color",
      "id": "color_section_bg",
      "label": {
        "en-US": "Background",
        "zh-CN": "背景色"
      },
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "color_title_text",
      "label": {
        "zh-CN": "主标题",
        "en-US": "Heading"
      },
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "color_subtitle_text",
      "label": {
        "zh-CN": "副标题",
        "en-US": "Subheading"
      },
      "default": "#666666"
    },
    {
      "type": "color",
      "id": "color_desc_text",
      "label": {
        "en-US": "Description",
        "zh-CN": "描述"
      },
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "color_btn_border",
      "label": {
        "en-US": "Button border",
        "zh-CN": "按钮边框"
      },
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "color_btn_bg",
      "label": {
        "en-US": "Button background",
        "zh-CN": "按钮背景"
      },
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "color_btn_text",
      "label": {
        "en-US": "Button text",
        "zh-CN": "按钮文字"
      },
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "color_image_bg",
      "label": {
        "en-US": "Image background",
        "zh-CN": "图片叠层颜色"
      },
      "default": "#000000"
    },
    {
      "type": "header",
      "content": {
        "en-US": "Layout",
        "zh-CN": "布局"
      }
    },
    {
      "type": "padding",
      "id": "padding",
      "label": {
        "en-US": "Content space",
        "zh-CN": "内容留白"
      },
      "default": {
        "top": "80",
        "right": "",
        "bottom": "80",
        "left": ""
      },
      "info": {
        "en-US": "Content space in px",
        "zh-CN": "内容留白单位为px"
      }
    },
    {
      "type": "text",
      "id": "max_container_width",
      "label": {
        "en-US": "Max content width",
        "zh-CN": "最大内容宽度"
      },
      "default": "",
      "props": {
        "type": "number"
      },
      "placeholder": {
        "zh-CN": "请输入最大内容宽度",
        "en-US": "Enter max content width"
      },
      "info": {
        "zh-CN": "最大内容宽度单位为px",
        "en-US": "Max content width unit as PX"
      }
    }
  ],
  "presets": [
    {
      "name": "fashion_graphic",
      "cname": {
        "zh-CN": "时尚图文",
        "en-US": "Styling graphics"
      },
      "category": {
        "en-US": "Material",
        "zh-CN": "素材"
      },
      "ccategory": {
        "en-US": "Material",
        "zh-CN": "素材"
      },
      "icon": "oss/operation/94c9fa3d32bc04e19def767338159523.svg",
      "display": true
    }
  ]
}
{% endschema %}